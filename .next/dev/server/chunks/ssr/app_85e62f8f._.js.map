{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/anis.zarrouk/Documents/Projects/azfooddeliveryappp/app/components/QuantityContainer.jsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart, deleteItem, updateQuantity } from '../../store/slices/carteSlice.js';\nimport { useAppSelector } from '../hooks.js';\n\nconst QuantityContainer = ({item, addItem}) => {\n  const [counter, setCounter] = useState(1);\n  const dispatch = useDispatch();\n  const {cartItems} = useAppSelector((state) => state.cart);\n  const {isAuth, currentUser} = useAppSelector((state) => state.auth);\n\n  // Derive isHidden from cartItems instead of using state\n  const itemFound = cartItems.find((i) => i.id === item?.id);\n  const isHidden = currentUser?.id && itemFound;\n\n\n\n  const handleClick = () => {\n    if (!currentUser?.id) return;\n\n    addItem(item.id);\n    setCounter(1);\n    dispatch(addToCart({id: item.id,userId: currentUser.id,  name: item.name, quantity: counter, restaurantId: item.restaurantId, image: item.imageUrl, category: item.categoryId, price: item.price}));\n  };\n  const incrementCounter = () => {\n    const newCounter = counter + 1;\n    setCounter(newCounter);\n    dispatch(updateQuantity({...item, quantity: newCounter}));\n  }\n\n  const decrementCounter = () => {\n    const newCounter = counter - 1;\n    setCounter(newCounter);\n     if(counter === 1){\n        dispatch(deleteItem(item));\n     } else {\n        dispatch(updateQuantity({...item, quantity: newCounter}));\n     }\n  }\n  if (isHidden) {\n    return(\n        <div className=\"flex items-center gap-3\">\n        <button className=\"w-10 h-10 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors\"\n         onClick={decrementCounter}\n        >\n          <span className=\"text-gray-600 text-sm\">−</span>\n        </button>\n\n        <span className=\"text-lg font-semibold text-gray-800 min-w-8 text-center\">\n          {counter}\n        </span>\n\n        <button className=\"w-10 h-10 bg-orange-500 hover:bg-orange-600 rounded-full flex items-center justify-center transition-colors\"\n        onClick={incrementCounter}\n        >\n          <span className=\"text-white text-sm\">+</span>\n        </button>\n      </div>\n    )\n  }\n  if(isAuth=== true){\n    return (\n        <div className=\"mt-3 flex items-center justify-between\">\n          <button\n            onClick={handleClick}\n            className=\"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors duration-200 active:scale-95 transform\"\n          >\n            Add\n          </button>\n        </div>\n    );\n  }\n  \n}\n\nexport default QuantityContainer"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,oBAAoB,CAAC,EAAC,IAAI,EAAE,OAAO,EAAC;IACxC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,WAAW,IAAA,wKAAW;IAC5B,MAAM,EAAC,SAAS,EAAC,GAAG,IAAA,8HAAc,EAAC,CAAC,QAAU,MAAM,IAAI;IACxD,MAAM,EAAC,MAAM,EAAE,WAAW,EAAC,GAAG,IAAA,8HAAc,EAAC,CAAC,QAAU,MAAM,IAAI;IAElE,wDAAwD;IACxD,MAAM,YAAY,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,MAAM;IACvD,MAAM,WAAW,aAAa,MAAM;IAIpC,MAAM,cAAc;QAClB,IAAI,CAAC,aAAa,IAAI;QAEtB,QAAQ,KAAK,EAAE;QACf,WAAW;QACX,SAAS,IAAA,0IAAS,EAAC;YAAC,IAAI,KAAK,EAAE;YAAC,QAAQ,YAAY,EAAE;YAAG,MAAM,KAAK,IAAI;YAAE,UAAU;YAAS,cAAc,KAAK,YAAY;YAAE,OAAO,KAAK,QAAQ;YAAE,UAAU,KAAK,UAAU;YAAE,OAAO,KAAK,KAAK;QAAA;IAClM;IACA,MAAM,mBAAmB;QACvB,MAAM,aAAa,UAAU;QAC7B,WAAW;QACX,SAAS,IAAA,+IAAc,EAAC;YAAC,GAAG,IAAI;YAAE,UAAU;QAAU;IACxD;IAEA,MAAM,mBAAmB;QACvB,MAAM,aAAa,UAAU;QAC7B,WAAW;QACV,IAAG,YAAY,GAAE;YACd,SAAS,IAAA,2IAAU,EAAC;QACvB,OAAO;YACJ,SAAS,IAAA,+IAAc,EAAC;gBAAC,GAAG,IAAI;gBAAE,UAAU;YAAU;QACzD;IACH;IACA,IAAI,UAAU;QACZ,qBACI,8OAAC;YAAI,WAAU;;8BACf,8OAAC;oBAAO,WAAU;oBACjB,SAAS;8BAER,cAAA,8OAAC;wBAAK,WAAU;kCAAwB;;;;;;;;;;;8BAG1C,8OAAC;oBAAK,WAAU;8BACb;;;;;;8BAGH,8OAAC;oBAAO,WAAU;oBAClB,SAAS;8BAEP,cAAA,8OAAC;wBAAK,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI7C;IACA,IAAG,WAAU,MAAK;QAChB,qBACI,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;IAKT;AAEF;uCAEe"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/anis.zarrouk/Documents/Projects/azfooddeliveryappp/app/Restaurant/%5Bid%5D/page.jsx"],"sourcesContent":["'use client'\nimport { FaPaperPlane, FaStar, FaHeart, FaTrash, FaArrowLeft } from 'react-icons/fa';\nimport { MdAccessTime } from 'react-icons/md';\nimport { HiOutlineHeart } from 'react-icons/hi';\nimport { useAppSelector } from '../../hooks.js';\nimport Image from 'next/image';\nimport { useParams } from 'next/navigation';\nimport { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport Link from 'next/link';\nimport Avatar from '@/app/components/common/Avatar.jsx';\nimport QuantityContainer from '@/app/components/QuantityContainer.jsx';\n\n\nconst RestaurantPage = () => {\n  const { id } = useParams();\n  const {restaurants} = useAppSelector(state => state.restaurant);\n  const restaurant = restaurants.find((restaurant) => restaurant.id === Number(id));\n\n  const { items }  = useAppSelector(state => state.items);\n  //const comments = getCommentsByRestaurantId(parseInt(id))\n  //const totalComments = getTotalCommentsCount(parseInt(id))\n  const { currentUser, isAuth } = useAppSelector (state => state.auth);\n  // Récupère tous les commentaires depuis le store Redux\n // const { comments } = useAppSelector(state => state.comment);\n  // Récupère la liste des utilisateurs pour afficher les noms dans les commentaires\n  const { users } = useAppSelector(state => state.auth);\n  const [buttonHidden, setButtonHidden] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n  const dispatch = useDispatch();\n  // État local pour stocker le contenu du commentaire en cours de rédaction\n  const [commentContent, setCommentContent] = useState('');\n  // État local pour stocker la note (nombre d'étoiles) sélectionnée par l'utilisateur\n  const [rateCount, setRateCount] = useState(0);\n  // État local pour stocker les commentaires filtrés appartenant au restaurant actuel\n  const [commentsFiltredByRestaurant, setCommentsFiltredByRestaurant] = useState([]);\n  const {categories} = useAppSelector(state => state.categories);\n\n\n  /**\n   * Effect hook pour filtrer les commentaires du restaurant et calculer la note moyenne\n   * S'exécute à chaque changement de la liste des commentaires, de l'ID du restaurant ou du dispatch\n   */\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/set-state-in-effect\n    setIsMounted(true);\n  }, []);\n  \n  const addItem = () => {\n    setButtonHidden(true);\n  }\n\n  // Show loading state while mounting to prevent hydration mismatch\n  if (!isMounted) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Chargement...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!restaurant) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Restaurant non trouvé</h2>\n          <Link href=\"/\" className=\"text-orange-500 hover:text-orange-600\">\n            Retour à l&apos;accueil\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  const groupedItems = items.filter((item) => Number(id) === item.restaurantId).reduce((acc, item) => {\n    if (!acc[item.categoryId]) {\n      acc[item.categoryId] = []\n    }\n    acc[item.categoryId].push(item)\n    return acc\n  }, {});\n  const findCategoryById = (categoryId) => categories?.find((category) => category.id === Number(categoryId))?.name;\n\n  /**\n   * Fonction pour soumettre un nouveau commentaire\n   * Ajoute le commentaire au store Redux et réinitialise le formulaire\n   */\n  const reply = (comment) => {\n    // dispatch(addComment(comment));\n     // Réinitialise le champ de texte du commentaire\n     setCommentContent('');\n     // Réinitialise la note à 0 étoiles\n     setRateCount(0);\n  }\n\n  /**\n   * Gestionnaire d'événement pour le changement du texte du commentaire\n   * Met à jour l'état local avec le contenu saisi par l'utilisateur\n   */\n  const handleChangeComment = (e) => {\n    setCommentContent(e.target.value);\n  }\n\n  /**\n   * Trouve et retourne le nom complet de l'utilisateur qui a écrit un commentaire\n   */\n  const findCommentUserName = (comment) => {\n    return users?.find(user => comment?.userId ===  user?.id)?.fullName;\n  }\n\n\n\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 mt-32.5\">\n      {/* Header avec image du restaurant */}\n      <div className=\"relative h-64 md:h-80 lg:h-96 overflow-hidden\">\n        <Image\n          src={restaurant.coverImg} \n          alt={restaurant.name}\n          className=\"w-full h-full object-cover\"\n          width={80}\n          height={80}\n        />\n        <div className=\"absolute inset-0 bg-black/40\"></div>\n        \n        {/* Bouton retour */}\n        <Link\n          href=\"/\"\n          className=\"absolute top-6 left-6 bg-white/90 backdrop-blur-sm p-3 rounded-full hover:bg-white transition-colors\"\n        >\n          <FaArrowLeft className=\"text-gray-800\" />\n        </Link>\n\n        {/* Informations du restaurant */}\n        <div className=\"absolute bottom-6 left-6 right-6 text-white\">\n          <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">{restaurant.name}</h1>\n          <div className=\"flex items-center gap-4 mb-2\">\n            <div className=\"flex items-center gap-1\">\n              <FaStar className=\"text-yellow-400\" />\n              <span className=\"font-semibold\">{restaurant.rating}</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <MdAccessTime />\n              <span>{restaurant.deliverySettings?.estimatedDeliveryTime || '10-30 min'}</span>\n            </div>\n          </div>\n          <div className=\"flex gap-2 mb-3\">\n            {restaurant.tags.map((tag, index) => (\n              <span \n                key={index}\n                className=\"bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-sm\"\n              >\n                {tag}\n              </span>\n            ))}\n          </div>\n          {/* Delivery Info */}\n          <div className=\"flex gap-4 text-sm\">\n            <span className=\"bg-orange-500/80 backdrop-blur-sm px-3 py-1 rounded-full\">\n              Delivery: {restaurant.deliverySettings?.deliveryFee || 0} TND\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Menu */}\n      <div className=\"container mx-auto w-[90%] py-8\">\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Menu</h2>\n        \n        {Object.entries(groupedItems).map(([category, categoryItems]) => (\n          <div key={category} className=\"mb-8\">\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-4 capitalize\">\n            {findCategoryById(category)}\n            </h3>\n            <div className=\"grid gap-4\">\n              {categoryItems?.map((item) => (\n                <div \n                  key={item.id}\n                  className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow\"\n                >\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-semibold text-gray-800 mb-2\">{item.name}</h4>\n                      <p className=\"text-gray-600 text-sm mb-3\">\n                        {item.ingredients.join(', ')}\n                      </p>\n                      <p className=\"text-orange-500 font-bold text-lg\">\n                        {Number(item.price).toFixed(2)} TND\n                      </p>\n                    </div>\n                    {item.imageUrl && (\n                      <div className=\"ml-4\">\n                        <Image \n                          src={item.imageUrl} \n                          alt={item.name}\n                          className=\"w-20 h-20 object-cover rounded-lg\"\n                          width={20}\n                          height={20}\n                        />\n                      </div>\n                    )}\n                  </div>\n                  \n                  {/* Contrôles de quantité */}\n                  <QuantityContainer\n                   key={item.id}\n                   addItem={addItem}\n                   item={item}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n        ))}\n\n        {/* Section Commentaires - Affiche tous les avis clients pour ce restaurant */}\n        <div className=\"mt-12\">\n          <div className=\"flex items-center justify-between mb-6\">\n            {/* Titre avec le nombre total de commentaires filtrés pour ce restaurant */}\n            <h2 className=\"text-2xl font-bold text-gray-800\">\n              Avis clients ({commentsFiltredByRestaurant.length})\n            </h2>\n          </div>\n\n          {/* Formulaire d'ajout de commentaire - Visible uniquement si l'utilisateur est authentifié */}\n          {isAuth && currentUser && (\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <div className=\"flex items-center gap-4 mb-4\">\n              {/* Avatar utilisateur connecté */}\n    \n              <Avatar name={`${currentUser?.fullName || 'User'}`} size=\"w-[40px] h-[40px]\" \n                     fontSize='text-xs'\n                    />\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800\">Laisser un avis</h3>\n                <p className=\"text-sm text-gray-600\">En tant que {currentUser?.fullName}</p>\n              </div>\n            </div>\n            \n            <form className=\"space-y-4\">\n              {/* Système d'étoiles pour la notation (1-5 étoiles) */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Votre note\n                </label>\n                <div className=\"flex items-center gap-1\">\n                  {/* Génère 5 boutons étoiles. Cliquer augmente/diminue rateCount */}\n                  {[1, 2, 3, 4, 5].map((star, index) => {\n                    // Si l'étoile n'est pas encore sélectionnée (index >= rateCount)\n                    if(index >= rateCount){\n                      return(\n                         <button\n                      key={star}\n                      type=\"button\"\n                      className=\"text-2xl hover:scale-110 transition-transform\"\n                      onClick={() => {\n                        // Augmente le compteur d'étoiles lors du clic\n                        if(star === index+1){\n                          setRateCount(c => c  + 1);\n                        }\n                      }}\n                    >\n                      {/* Étoile grise non sélectionnée */}\n                      <FaStar className=\"text-gray-300 hover:text-yellow-500\" />\n                    </button>\n                      )\n                    }else {\n                      return(\n                         <button\n                      key={star}\n                      type=\"button\"\n                      className=\"text-2xl hover:scale-110 transition-transform\"\n                      onClick={() => {\n                        // Diminue le compteur d'étoiles lors du clic sur une étoile déjà sélectionnée\n                        if(star === index+1){\n                        setRateCount(c => c - 1);\n                        }\n                      }}\n                    >\n                      {/* Étoile jaune sélectionnée */}\n                      <FaStar className=\"text-yellow-500 hover:text-gray-300\" />\n                    </button>\n                      )\n                    }\n\n                  })}\n                  <span className=\"ml-2 text-sm text-gray-600\">Cliquez pour noter</span>\n                </div>\n              </div>\n\n              {/* Champ de texte pour le commentaire */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Votre commentaire\n                </label>\n                {/* Textarea contrôlé par commentContent et handleChangeComment */}\n                <textarea\n                  rows={4}\n                  placeholder=\"Partagez votre expérience...\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors resize-none\"\n                  onChange={handleChangeComment}\n                  value={commentContent}\n                ></textarea>\n              </div>\n\n              {/* Bouton d'envoi du commentaire */}\n              <div className=\"flex justify-end\">\n                <button\n                  type=\"submit\"\n                  className=\"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors flex items-center gap-2\"\n                  onClick={ (e) => {\n                    e.preventDefault();\n                    // Appelle la fonction reply pour soumettre le nouveau commentaire\n                    reply({\n                    restaurantId: restaurant.id,\n                    userId: currentUser.id,\n                    userName: currentUser?.fullName || 'User',\n                    userAvatar: currentUser?.avatar,\n                    comment: commentContent, // Contenu du commentaire saisi\n                    likes: 0,\n                    rating: rateCount // Nombre d'étoiles sélectionnées\n                  })}\n\n\n                }\n                >\n                  <FaPaperPlane className=\"text-sm\" />\n                  Publier l&apos;avis\n                </button>\n              </div>\n            </form>\n          </div>\n          )}\n\n          {/* Affichage conditionnel des commentaires : liste ou message \"Aucun avis\" */}\n          {commentsFiltredByRestaurant.length > 0 ? (\n            <div className=\"space-y-6\">\n              {/* Boucle sur tous les commentaires filtrés pour ce restaurant */}\n              {commentsFiltredByRestaurant?.map((comment) => (\n                <div\n                  key={comment.id}\n                  className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\"\n                >\n                  {/* Header du commentaire avec avatar et informations utilisateur */}\n                  <div className=\"flex items-start gap-4 mb-4\">\n                    {/* Affiche l'avatar de l'utilisateur s'il existe, sinon affiche Avatar avec initiales */}\n                    {users?.find(user => comment?.userId === user?.id)?.avatar ? (\n                      <Image\n                        src={users.find(user => comment?.userId === user?.id).avatar}\n                        alt={findCommentUserName(comment)}\n                        className=\"w-[32px] h-[32px] rounded-full object-cover\"\n                        width={32}\n                        height={32}\n                      />\n                    ) : (\n                      <Avatar\n                        name={`${findCommentUserName(comment)}`}\n                        size=\"w-[32px] h-[32px]\"\n                        fontSize='text-xs'\n                      />\n                    )}\n\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        {/* Nom de l'utilisateur qui a écrit le commentaire */}\n                        <h4 className=\"font-semibold text-gray-800\">{comment.userName}</h4>\n                        {/* Date de création du commentaire formatée en français */}\n                        <span className=\"text-sm text-gray-500\">\n                          {new Date(comment.created_at).toLocaleDateString('fr-FR', {\n                            year: 'numeric',\n                            month: 'long',\n                            day: 'numeric'\n                          })}\n                        </span>\n                      </div>\n\n                      {/* Affichage de la note sous forme d'étoiles (Rating) */}\n                      <div className=\"flex items-center gap-1 mb-3\">\n                        {/* Génère 5 étoiles, colorées selon la note du commentaire */}\n                        {[...Array(5)].map((_, index) => (\n                          <FaStar\n                            key={index}\n                            className={`text-sm ${\n                              index < comment.rating\n                                ? 'text-yellow-500'\n                                : 'text-gray-300'\n                            }`}\n                          />\n                        ))}\n                        {/* Affiche la note numérique */}\n                        <span className=\"text-sm text-gray-600 ml-2\">\n                          {comment.rating}/5\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  {/* Contenu textuel du commentaire */}\n                  <p className=\"text-gray-700 mb-4 leading-relaxed\">\n                    {comment.comment}\n                  </p>\n\n                  {/* Actions disponibles pour chaque commentaire (Like et Supprimer) */}\n                  <div className=\"flex items-center justify-between pt-3 border-t border-gray-100\">\n                    {/* Bouton Like - Change de couleur si l'utilisateur a déjà liké */}\n                    <button className={`flex items-center gap-2 ${comment.likedBy && comment.likedBy.includes(currentUser.id) ? \"text-red-500 hover:text-gray-500\" : \"text-gray-500 hover:text-red-600\"} transition-colors`}\n                     onClick={() => {\n                      // Dispatch l'action toggleLike pour ajouter/retirer le like\n                      dispatch(toggleLike({\n                        commentId: comment.id,\n                        userId: currentUser.id\n                      }));\n                    }}\n                    >\n                      {/* Affiche le nombre de likes si > 0 */}\n                      <span className=\"text-sm\">{comment.likes>0 ? comment.likes: ''}</span>\n                      <FaHeart className=\"text-sm\" />\n                    </button>\n\n\n                      {/* Bouton Supprimer le commentaire */}\n                      <button\n                        className=\"flex items-center gap-2 text-gray-500 hover:text-red-600 transition-colors\"\n                        onClick={() => {\n                          // Dispatch l'action removeComment pour supprimer le commentaire\n                          dispatch(removeComment({\n                            id: comment.id\n                          }));\n                        }}\n                      >\n                        <FaTrash className=\"text-sm\" />\n                      </button>\n\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            // Affiche un message si aucun commentaire n'existe pour ce restaurant\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">Aucun avis pour le moment</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RestaurantPage;\n"],"names":[],"mappings":"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"}}]
}